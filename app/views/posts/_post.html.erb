<%= link_to post_path(post),
    id: "post-id-#{post.id}",
    class: "block relative overflow-hidden bg-white border border-gray-800 shadow-2xl",
    data: {
      controller: "card-hover",
      action: "mouseenter->card-hover#mouseEnter mouseleave->card-hover#mouseLeave"
    } do %>

  <!-- 画像 -->
  <div class="relative w-full h-64">
    <% if post.image.attached? && post.image.content_type.in?(%w[image/jpeg image/png]) %>
      <%= image_tag(post.image_as_thumbnail, class: "w-full h-full object-cover") %>
    <% else %>
      <%= image_tag "place_holder.png", class: "w-full h-full object-cover" %>
    <% end %>
  </div>

  <!-- テキストオーバーレイ(ホバーで出てくる部分)stimulusで実装 -->
  <div data-card-hover-target="overlay"
       class="absolute bottom-0 left-0 right-0 bg-white/70 backdrop-blur-sm p-3 transition-transform duration-300 ease-out">
    <h4 class="text-lg font-semibold text-gray-800 mb-2"><%= post.title %></h4>
    <div class="text-sm text-gray-600">
      <p class="mb-1"><%= post.user.name %></p>
      <p><%= l post.created_at %></p>
      <% if current_user&.bookmark?(post) %>
        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
          お気に入り
        </span>
      <% end %>
    </div>
  </div>

<% end %>